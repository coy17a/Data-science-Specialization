df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
df <- df[complete.cases(df),]
b <- df[df[,outcome]== min(df[,outcome]),1]
b <- sort(b)
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
best("TX","heart failure")
View(df)
View(df)
View(df)
View(df)
View(df)
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[df[,outcome]== min(df[,outcome]),1]
b <- sort(b)
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
best("TX","heart failure")
best("TX","heart failure")
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[df[,outcome]== min(df[,outcome]),1]
b <- sort(b)
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
best("TX","heart failure")
best("TX","heart attack")
best("MD","pneumonia")
best("MD","hearth attack")
best("MD","heart attack")
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[,outcome]
b <- sort(b)
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
best("MD","heart attack")
b <- best("MD","heart attack")
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("MD","heart attack")
View(b)
View(b)
View(b)
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available"),]
b <- df
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("MD","heart attack")
View(b)
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[orser(df[,outcome])]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("MD","heart attack")
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome])]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("MD","heart attack")
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome]),]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("MD","heart attack")
View(b)
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome]),]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("TX","heart failute")
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome]),]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("TX","heart failuree")
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome]),]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("TX","heart failure")
View(b)
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome]),df[,1]]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("TX","heart failure")
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome],df[,1]),]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("TX","heart failure")
View(b)
library(readr)
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
head(outcome)
ncol(outcome)
names(outcome)
outcome[,11] <- as.numeric(outcome[,11])
hist(outcome[,11])
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[df[,outcome]== min(df[,outcome]),1]
b <- order(b)
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
best("MD","heart attack")
library(readr)
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
head(outcome)
ncol(outcome)
names(outcome)
outcome[,11] <- as.numeric(outcome[,11])
hist(outcome[,11])
best <- function(state,outcome) {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[df[,outcome]== min(df[,outcome]),1]
return (b)
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
best("MD","heart attack")
best <- function(state,outcome,num = "best") {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome],df[,1]),]
if (rank == "worst"){
return(b[1,nrow(b)])
} else if ( num ==  "best") {
return(b[1,1])
} else {
return (b[1,num])
}
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("TX","heart failure",4)
View(b)
View(b)
View(b)
best <- function(state,outcome,num = "best") {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome],df[,1]),]
if (num == "worst"){
return(b[1,nrow(b)])
} else if ( num == "best") {
return(b[1,1])
} else {
return (b[1,num])
}
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("TX","heart failure",4)
best <- function(state,outcome,num = "best") {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome],df[,1]),]
if (num == "worst"){
return(b[nrow(b),1])
} else if ( num == "best") {
return(b[1,1])
} else {
return (b[num,1])
}
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
b <- best("TX","heart failure",4)
rankhospital("MD", "heart attack", "worst")
rankhospital <- function(state,outcome,num = "best") {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome],df[,1]),]
if (num == "worst"){
return(b[nrow(b),1])
} else if ( num == "best") {
return(b[1,1])
} else {
return (b[num,1])
}
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
rankhospital("MD", "heart attack", "worst")
rankhospital <- function(state,outcome,num = "best") {
outcomes <- c("heart attack","heart failure","pneumonia")
data<- read.csv("outcome-of-care-measures.csv", colClasses = "character")
data <- data[,c(2,7,11,17,23)]
names(data) <- c("name","state",outcomes)
df<- data[(data[,2]== state),]
if (nrow(df) > 0){
if (outcome %in% outcomes){
df[,outcome] <- as.numeric(df[,outcome])
dfo <- df[,outcome]
df <- df[!(dfo == "Not Available" | is.na(dfo)),]
b <- df[order(df[,outcome],df[,1]),]
if (num == "worst"){
return(b[nrow(b),1])
} else if ( num == "best") {
return(b[1,1])
} else if (num <nrow(b)){
return (b[num,1])
} else {
return(NA)
}
}
else{ print("Error: invalid outcome")}
}
else {
print("Erro: invalid state")
}
}
rankhospital("MD", "heart attack", "worst")
rankhospital("MN", "heart attack", 5000)
rankhospital("TX", "heart failure", 4)
